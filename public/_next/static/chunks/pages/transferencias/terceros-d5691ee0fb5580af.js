(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{3382:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/transferencias/terceros",function(){return t(8415)}])},3064:function(e,n){"use strict";n.Z=function(e){return new Date(e||new Date).toLocaleDateString("es-us",{weekday:"long",year:"numeric",month:"short",day:"numeric"})}},8415:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return V}});var a=t(4051),s=t.n(a),r=t(5893),i=t(4416),o=t(3832),c=t(7294),l=t(649),d=t(5988),u=t(7702),f=t(1749),p=t(9225),h=t(7462),m=t(5987),x=t(6010),y=t(9345),v=t(2601),j=t(1591),b=t(3871),g=c.forwardRef((function(e,n){var t=e.children,a=e.classes,s=e.className,r=(e.color,e.component),i=void 0===r?"label":r,o=(e.disabled,e.error,e.filled,e.focused,e.required,(0,m.Z)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),l=(0,v.Z)(),d=(0,y.Z)({props:e,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]});return c.createElement(i,(0,h.Z)({className:(0,x.Z)(a.root,a["color".concat((0,b.Z)(d.color||"primary"))],s,d.disabled&&a.disabled,d.error&&a.error,d.filled&&a.filled,d.focused&&a.focused,d.required&&a.required),ref:n},o),t,d.required&&c.createElement("span",{"aria-hidden":!0,className:(0,x.Z)(a.asterisk,d.error&&a.error)},"\u2009","*"))})),_=(0,j.Z)((function(e){return{root:(0,h.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(g),C=c.forwardRef((function(e,n){var t=e.classes,a=e.className,s=e.disableAnimation,r=void 0!==s&&s,i=(e.margin,e.shrink),o=(e.variant,(0,m.Z)(e,["classes","className","disableAnimation","margin","shrink","variant"])),l=(0,v.Z)(),d=i;"undefined"===typeof d&&l&&(d=l.filled||l.focused||l.adornedStart);var u=(0,y.Z)({props:e,muiFormControl:l,states:["margin","variant"]});return c.createElement(_,(0,h.Z)({"data-shrink":d,className:(0,x.Z)(t.root,a,l&&t.formControl,!r&&t.animated,d&&t.shrink,"dense"===u.margin&&t.marginDense,{filled:t.filled,outlined:t.outlined}[u.variant]),classes:{focused:t.focused,disabled:t.disabled,error:t.error,required:t.required,asterisk:t.asterisk},ref:n},o))})),N=(0,j.Z)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(C),w=t(282),k=new String(".transaction-table-title{color:white;\npadding:0.75rem 0rem;\nfont-weight:bolder}\n.transaction-input{width:25%;\nmargin-top:10px}\n.select-input{background-color:'white';\nheight:'48px';\nborder:'solid';\nborder-color:'#AAA';\nborder-width:'1px';\nborder-radius:'3px';\nfont-size:'12px'}\n.monto-input{text-align:right}");k.__hash="bba266da1d2fd7e3";var Z=k,S=t(6455);function E(e){var n=e.loading,t=e.accounts,a=e.contacts,s=e.handleFormChange,i=e.formData,o=e.setStep,c=t.map((function(e,n){return(0,r.jsx)(u.Z,{style:{fontSize:"12px"},value:e.numero,children:"".concat(e.tipo,": ").concat(e.numero," Saldo: ").concat(e.monto)})}));console.log(a);var l=a.map((function(e,n){return(0,r.jsx)(u.Z,{style:{fontSize:"12px"},value:null===e||void 0===e?void 0:e.cuentaId,children:"".concat(null===e||void 0===e?void 0:e.nombre,":").concat(null===e||void 0===e?void 0:e.numero)},null===e||void 0===e?void 0:e.cuentaId)}));return(0,r.jsxs)(f.Z,{container:!0,spacing:2,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,r.jsxs)(f.Z,{item:!0,xs:11,children:[(0,r.jsx)("div",{className:"jsx-".concat(Z.__hash),children:(0,r.jsx)(f.Z,{container:!0,justify:"center",children:(0,r.jsxs)("div",{style:{width:"90%",backgroundColor:"#eeeeef",border:"solid #aaaaaa 1px"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",border:"solid black 1px",backgroundColor:"#074EE8"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsx)("p",{style:{paddingLeft:"3.75rem"},className:"jsx-".concat(Z.__hash)+" transaction-table-title",children:"Cuenta origen"}),(0,r.jsx)("p",{style:{marginLeft:"-1.25rem"},className:"jsx-".concat(Z.__hash)+" transaction-table-title",children:"Cuenta destino"}),(0,r.jsx)("p",{style:{paddingRight:"5.25rem"},className:"jsx-".concat(Z.__hash)+" transaction-table-title",children:"Monto (Bs)"})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsx)(p.Z,{className:"select-input transaction-input",style:{backgroundColor:"white",height:"48px",border:"solid",borderColor:"#AAA",borderWidth:"1px",borderRadius:"3px",fontSize:"12px"},name:"origin",placeholder:"Selecciona",value:i.origin||null,onChange:function(e){s(e)},children:c}),(0,r.jsx)(p.Z,{className:"select-input transaction-input",style:{backgroundColor:"white",height:"48px",border:"solid",borderColor:"#AAA",borderWidth:"1px",borderRadius:"3px",fontSize:"12px"},name:"destiny",placeholder:"Selecciona",value:i.destiny||null,onChange:function(e){s(e)},children:l}),(0,r.jsx)("input",{type:"number",placeholder:"Monto",name:"monto",onChange:function(e){s(e)},className:"jsx-".concat(Z.__hash)+" monto-input transaction-input"})]}),(0,r.jsx)(S.qS,{label:"Descripci\xf3n:",type:"text",placeholder:"motivo de la transacci\xf3n",name:"description",disabled:n,handleFormChange:s}),(0,r.jsx)("hr",{className:"jsx-".concat(Z.__hash)}),(0,r.jsx)(S.qS,{label:"N\xfamero de cuenta:",type:"text",placeholder:"numero de cuenta",name:"destinyNumber",disabled:n,handleFormChange:s,value:i.destinyNumber}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsx)(N,{style:{color:"black",marginTop:"1.5rem",marginLeft:"4rem",marginRight:"0.5rem",fontSize:"14px"},id:"demo-simple-select-label",children:"Tipo de documento:"}),(0,r.jsxs)(p.Z,{labelId:"demo-simple-select-label",className:"select-input transaction-input",style:{backgroundColor:"white",height:"48px",border:"solid",borderColor:"#AAA",borderWidth:"1px",borderRadius:"3px",marginTop:"1rem"},value:i.tipoIdentificacion||null,label:"Tipo",name:"tipoIdentificacion",displayEmpty:!0,onChange:function(e){s(e)},children:[(0,r.jsx)(u.Z,{value:"V",children:"V - Venezolano(a)"}),(0,r.jsx)(u.Z,{value:"E",children:"E - Extranjero(a)"})]}),(0,r.jsx)(S.qS,{label:"N\xfamero del documento:",type:"text",placeholder:"n\xfamero del documento",name:"identification",disabled:n,handleFormChange:s,value:i.identification})]}),(0,r.jsx)(S.qS,{label:"Nombre/Alias de la cuenta:",type:"text",placeholder:"Nombre de la cuenta",name:"destinyName",disabled:n,handleFormChange:s,value:i.destinyName})]})})}),(0,r.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-evenly"},className:"jsx-".concat(Z.__hash),children:(0,r.jsx)(w.Z,{variant:"contained",style:{backgroundColor:"#074EE8",color:"white",fontWeight:"bold",marginTop:"1rem"},onClick:function(e){!function(e){e.preventDefault(),o("step2")}(e)},children:"Siguiente"})})]}),(0,r.jsx)(d.default,{id:Z.__hash,children:Z})]})}var P=t(5477),D=t(8723),I=t(3064),A=t(7733);function T(e,n,t,a,s,r,i){try{var o=e[r](i),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(a,s)}function q(e){return function(){var n=this,t=arguments;return new Promise((function(a,s){var r=e.apply(n,t);function i(e){T(r,a,s,i,o,"next",e)}function o(e){T(r,a,s,i,o,"throw",e)}i(void 0)}))}}function z(e){var n=e.formData,t=e.setStep,a=e.setTransactionId,i=e.setIsContact,o=(0,c.useState)(!1),u=o[0],p=o[1],h=function(){var e=q(s().mark((function e(r,o){var c,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),p(!0),c={cuentaDestino:n.destinyNumber,cuentaOrigen:n.origin,monto:n.monto,descripcion:n.description,identificador:n.identification,identificadorTipo:n.tipoIdentificacion},e.prev=3,e.next=6,(0,l.j0)("/api/app/transferencia",c);case 6:(d=e.sent).ok&&(console.log(d.data),a(d.data.transferencia._id),i(d.data.contacto),p(!1)),t(o),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),p(!1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=q(s().mark((function e(n,a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t(a);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,r.jsxs)(f.Z,{container:!0,spacing:2,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,r.jsxs)(f.Z,{item:!0,xs:11,children:[(0,r.jsx)("div",{className:"jsx-".concat(Z.__hash),children:(0,r.jsx)(f.Z,{container:!0,justify:"center",children:(0,r.jsxs)("div",{style:{width:"90%",backgroundColor:"#eeeeef"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsx)("div",{style:{display:"flex",justifyContent:"space-between",border:"solid black 1px",backgroundColor:"#074EE8"},className:"jsx-".concat(Z.__hash),children:(0,r.jsx)("p",{className:"jsx-".concat(Z.__hash)+" transaction-table-title",children:"Datos de la transferencia"})}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsx)(D.P,{field:"Cuenta de origen",value:n.origin}),(0,r.jsx)(D.P,{field:"Cuenta de destino",value:n.destiny||n.destinyNumber})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsx)(D.P,{field:"Monto",value:A.Z.new(n.monto,"Bs.")}),(0,r.jsx)(D.P,{field:"Destinatario",value:"".concat(n.tipoIdentificacion,"-").concat(n.identification)})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsx)(D.P,{field:"Fecha",value:(0,I.Z)()}),(0,r.jsx)(D.P,{field:"Nombre del destinatario",value:n.destinyName})]}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(Z.__hash),children:(0,r.jsx)(D.P,{field:"Descripci\xf3n",value:n.description})})]})})}),u?(0,r.jsx)("div",{style:{marginTop:16},className:"jsx-".concat(Z.__hash),children:(0,r.jsx)(P.Z,{})}):(0,r.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-evenly"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsx)(w.Z,{variant:"contained",style:{backgroundColor:"#074EE8",color:"white",fontWeight:"bold",marginTop:"1rem"},onClick:function(e){m(e,"step1")},children:"Volver"}),(0,r.jsx)(w.Z,{variant:"contained",style:{backgroundColor:"#074EE8",color:"white",fontWeight:"bold",marginTop:"1rem"},onClick:function(e){h(e,"step3")},children:"Confirmar"})]})]}),(0,r.jsx)(d.default,{id:Z.__hash,children:Z})]})}var O=t(1163);function F(e,n,t,a,s,r,i){try{var o=e[r](i),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(a,s)}function W(e){return function(){var n=this,t=arguments;return new Promise((function(a,s){var r=e.apply(n,t);function i(e){F(r,a,s,i,o,"next",e)}function o(e){F(r,a,s,i,o,"throw",e)}i(void 0)}))}}function $(e){var n=e.formData,t=(e.setStep,e.transactionId),a=e.isContact,i=e.setIsContact,o=(0,O.useRouter)(),u=(0,c.useState)(!1),p=u[0],h=u[1],m=function(){var e=W(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.push("/posicionglobal");case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=W(s().mark((function e(t){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Headers),h(!0),e.prev=2,a={cuenta:n.destinyNumber,nombreAlias:n.destinyName,identificador:n.identification,identificadorTipo:n.tipoIdentificacion},e.next=6,(0,l.j0)("/api/app/contacto",a);case 6:e.sent.ok?(h(!1),i(!0)):h(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),h(!1);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsxs)(f.Z,{container:!0,spacing:2,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,r.jsxs)(f.Z,{item:!0,xs:11,children:[(0,r.jsx)("div",{className:"jsx-".concat(Z.__hash),children:(0,r.jsx)(f.Z,{container:!0,justify:"center",children:(0,r.jsxs)("div",{style:{width:"90%",backgroundColor:"#eeeeef"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsx)("div",{style:{display:"flex",justifyContent:"space-between",border:"solid black 1px",backgroundColor:"#074EE8"},className:"jsx-".concat(Z.__hash),children:(0,r.jsx)("p",{className:"jsx-".concat(Z.__hash)+" transaction-table-title",children:"Datos de la transferencia finalizada"})}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(Z.__hash),children:(0,r.jsx)(D.P,{field:"N\xfamero de referencia de la operaci\xf3n",value:t})}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsx)(D.P,{field:"Cuenta de origen",value:n.origin}),(0,r.jsx)(D.P,{field:"Cuenta de destino",value:n.destiny||n.destinyNumber})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsx)(D.P,{field:"Monto",value:A.Z.new(n.monto,"Bs.")}),(0,r.jsx)(D.P,{field:"Destinatario",value:"".concat(n.tipoIdentificacion,"-").concat(n.identification)})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsx)(D.P,{field:"Fecha",value:(0,I.Z)()}),(0,r.jsx)(D.P,{field:"Nombre del destinatario",value:n.destinyName})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(Z.__hash),children:[(0,r.jsx)(D.P,{field:"Descripci\xf3n",value:n.description}),(0,r.jsx)("div",{style:{display:"flex"},className:"jsx-".concat(Z.__hash),children:!a&&p?(0,r.jsx)(P.Z,{}):a||p?null:(0,r.jsx)(w.Z,{variant:"contained",style:{backgroundColor:"#074EE8",color:"white",fontWeight:"bold",marginTop:"1rem",height:"36px"},onClick:function(e){x(e)},children:"A\xf1adir a contactos"})})]})]})})}),(0,r.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-evenly"},className:"jsx-".concat(Z.__hash),children:(0,r.jsx)(w.Z,{variant:"contained",style:{backgroundColor:"#074EE8",color:"white",fontWeight:"bold",marginTop:"1rem"},onClick:function(e){m(e)},children:"Continuar"})})]}),(0,r.jsx)(d.default,{id:Z.__hash,children:Z})]})}t(7590),t(1664);function R(e,n,t,a,s,r,i){try{var o=e[r](i),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(a,s)}function L(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function M(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){L(e,n,t[n])}))}return e}var V=function(){(0,i.v9)((function(e){return e.user}));var e,n=(0,c.useState)("step1"),t=n[0],a=n[1],d=(0,c.useState)({}),u=d[0],f=d[1],p=(0,c.useState)(!0),h=p[0],m=p[1],x=(0,c.useState)(!0),y=x[0],v=x[1],j=(0,c.useState)(),b=j[0],g=j[1],_=(0,c.useState)(),C=_[0],N=_[1],w=(0,c.useState)(),k=w[0],Z=w[1],S={step1:(0,r.jsxs)("h2",{children:["Paso 1"," ",(0,r.jsx)("span",{style:{fontWeight:"10"},children:"Completa los datos para realizar la transferencia."})]}),step2:(0,r.jsxs)("h2",{children:["Paso 2"," ",(0,r.jsx)("span",{style:{fontWeight:"10"},children:"Verifica los datos de la transferencia y confirma para finalizarla"})]}),step3:(0,r.jsx)("h2",{children:"Transferencia finalizada exitosamente"})};(0,c.useEffect)((function(){console.log(u)}),[u]),(0,c.useEffect)((e=s().mark((function e(){var n,t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,(0,l.A_)("/api/app/cuentas");case 4:return n=e.sent,e.next=7,(0,l.A_)("/api/app/contacto");case 7:t=e.sent,n.ok&&t.ok&&(g(n.data.cuentas),Z(null===(a=t.data)||void 0===a?void 0:a.libretaContactos),v(!1)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})),function(){var n=this,t=arguments;return new Promise((function(a,s){var r=e.apply(n,t);function i(e){R(r,a,s,i,o,"next",e)}function o(e){R(r,a,s,i,o,"throw",e)}i(void 0)}))}),[]);var D={step1:(0,r.jsx)(E,{loading:y,accounts:b,contacts:k,formData:u,handleFormChange:function(e){var n=e.target.name,t=M({},u);if(t[n]=e.target.value,"destiny"===n){var a=k.find((function(n){return n.cuentaId===e.target.value}));f(M({},u,{destiny:e.target.value,destinyName:a.nombre,identification:a.identificador,tipoIdentificacion:a.identificadorTipo,destinyNumber:a.numero}))}else f(t)},setStep:a}),step2:(0,r.jsx)(z,{loading:y,accounts:b,formData:u,setStep:a,setTransactionId:N,setIsContact:m}),step3:(0,r.jsx)($,{loading:y,accounts:b,formData:u,setStep:a,transactionId:C,isContact:h,setIsContact:m})};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o.Z,{children:[(0,r.jsxs)("div",{className:"header-title-container",style:{display:"flex",flexDirection:"column"},children:[(0,r.jsx)("h2",{className:"title-section",children:"Transferencias a Terceros Dakiti"}),S[t]]}),y?(0,r.jsx)("div",{style:{textAlign:"center",width:"100%"},children:(0,r.jsx)(P.Z,{size:50})}):D[t]]})})}}},function(e){e.O(0,[358,627,426,20,774,888,179],(function(){return n=3382,e(e.s=n);var n}));var n=e.O();_N_E=n}]);