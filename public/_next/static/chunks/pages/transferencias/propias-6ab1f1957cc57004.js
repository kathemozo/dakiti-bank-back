(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[628],{4080:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/transferencias/propias",function(){return t(944)}])},944:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return E}});var a=t(4051),s=t.n(a),i=t(5893),r=t(4416),o=t(3832),c=t(7294),l=t(649),d=t(5988),u=t(7702),h=t(1749),p=t(9225),f=t(282),x=new String(".transaction-table-title{color:white;\npadding:0.75rem 0rem;\nfont-weight:bolder}\n.transaction-input{width:25%;\nmargin-top:10px}\n.select-input{background-color:'white';\nheight:'48px';\nborder:'solid';\nborder-color:'#AAA';\nborder-width:'1px';\nborder-radius:'3px';\nfont-size:'12px'}\n.monto-input{text-align:right}");x.__hash="bba266da1d2fd7e3";var j=x,m=t(6455);function v(e){var n=e.loading,t=e.accounts,a=e.handleFormChange,s=e.formData,r=e.setStep,o=t.map((function(e,n){return(0,i.jsx)(u.Z,{style:{fontSize:"12px"},value:e.numero,children:"".concat(e.tipo,": ").concat(e.numero," Saldo: ").concat(e.monto)})})),c=t.map((function(e,n){if(s.origin!==e.numero)return(0,i.jsx)(u.Z,{value:e.numero,children:"Cuenta ".concat(e.tipo,": ").concat(e.numero," Saldo: ").concat(e.monto)})}));return console.log(s),(0,i.jsxs)(h.Z,{container:!0,spacing:2,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,i.jsxs)(h.Z,{item:!0,xs:11,children:[(0,i.jsx)("div",{className:"jsx-".concat(j.__hash),children:(0,i.jsx)(h.Z,{container:!0,justify:"center",children:(0,i.jsxs)("div",{style:{width:"90%",backgroundColor:"#eeeeef"},className:"jsx-".concat(j.__hash),children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",border:"solid black 1px",backgroundColor:"#074EE8"},className:"jsx-".concat(j.__hash),children:[(0,i.jsx)("p",{style:{paddingLeft:"3.75rem"},className:"jsx-".concat(j.__hash)+" transaction-table-title",children:"Cuenta origen"}),(0,i.jsx)("p",{style:{marginLeft:"-1.25rem"},className:"jsx-".concat(j.__hash)+" transaction-table-title",children:"Cuenta destino"}),(0,i.jsx)("p",{style:{paddingRight:"5.25rem"},className:"jsx-".concat(j.__hash)+" transaction-table-title",children:"Monto (Bs)"})]}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(j.__hash),children:[(0,i.jsx)(p.Z,{className:"select-input transaction-input",style:{backgroundColor:"white",height:"48px",border:"solid",borderColor:"#AAA",borderWidth:"1px",borderRadius:"3px",fontSize:"12px"},name:"origin",placeholder:"Selecciona",value:s.origin||null,onChange:function(e){a(e)},children:o}),(0,i.jsx)(p.Z,{className:"select-input transaction-input",style:{backgroundColor:"white",height:"48px",border:"solid",borderColor:"#AAA",borderWidth:"1px",borderRadius:"3px",fontSize:"12px"},name:"destiny",placeholder:"Selecciona",value:s.destiny||null,onChange:function(e){a(e)},children:c}),(0,i.jsx)("input",{type:"number",placeholder:"Monto",name:"monto",onChange:function(e){a(e)},className:"jsx-".concat(j.__hash)+" monto-input transaction-input"})]}),(0,i.jsx)(m.qS,{label:"Descripci\xf3n:",type:"text",placeholder:"motivo de la transacci\xf3n",name:"description",disabled:n,handleFormChange:a})]})})}),(0,i.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-evenly"},className:"jsx-".concat(j.__hash),children:(0,i.jsx)(f.Z,{variant:"contained",style:{backgroundColor:"#074EE8",color:"white",fontWeight:"bold",marginTop:"1rem"},onClick:function(e){!function(e){e.preventDefault(),r("step2")}(e)},children:"Siguiente"})})]}),(0,i.jsx)(d.default,{id:j.__hash,children:j})]})}var y=t(5477),g=t(8723),_=t(7733);function b(e,n,t,a,s,i,r){try{var o=e[i](r),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(a,s)}function C(e){return function(){var n=this,t=arguments;return new Promise((function(a,s){var i=e.apply(n,t);function r(e){b(i,a,s,r,o,"next",e)}function o(e){b(i,a,s,r,o,"throw",e)}r(void 0)}))}}function w(e){var n=e.formData,t=e.setStep,a=e.setTransactionId,r=(0,c.useState)(!1),o=r[0],u=r[1],p=function(){var e=C(s().mark((function e(i,r){var o,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.preventDefault(),u(!0),o={cuentaDestino:n.destiny,cuentaOrigen:n.origin,monto:n.monto,descripcion:n.description},e.prev=3,e.next=6,(0,l.j0)("/api/app/transferencia-propia",o);case 6:(c=e.sent).ok&&(console.log(c.data),a(c.data.transferencia._id),u(!1)),t(r),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),u(!1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n,t){return e.apply(this,arguments)}}(),x=function(){var e=C(s().mark((function e(n,a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t(a);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,i.jsxs)(h.Z,{container:!0,spacing:2,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,i.jsxs)(h.Z,{item:!0,xs:11,children:[(0,i.jsx)("div",{className:"jsx-".concat(j.__hash),children:(0,i.jsx)(h.Z,{container:!0,justify:"center",children:(0,i.jsxs)("div",{style:{width:"90%",backgroundColor:"#eeeeef"},className:"jsx-".concat(j.__hash),children:[(0,i.jsx)("div",{style:{display:"flex",justifyContent:"space-between",border:"solid black 1px",backgroundColor:"#074EE8"},className:"jsx-".concat(j.__hash),children:(0,i.jsx)("p",{className:"jsx-".concat(j.__hash)+" transaction-table-title",children:"Datos de la transferencia"})}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(j.__hash),children:[(0,i.jsx)(g.P,{field:"Cuenta de origen",value:n.origin}),(0,i.jsx)(g.P,{field:"Cuenta de destino",value:n.destiny})]}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(j.__hash),children:[(0,i.jsx)(g.P,{field:"Monto",value:_.Z.new(n.monto,"Bs.")}),(0,i.jsx)(g.P,{field:"Descripci\xf3n",value:n.description})]})]})})}),o?(0,i.jsx)("div",{style:{marginTop:16},className:"jsx-".concat(j.__hash),children:(0,i.jsx)(y.Z,{})}):(0,i.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-evenly"},className:"jsx-".concat(j.__hash),children:[(0,i.jsx)(f.Z,{variant:"contained",style:{backgroundColor:"#074EE8",color:"white",fontWeight:"bold",marginTop:"1rem"},onClick:function(e){x(e,"step1")},children:"Volver"}),(0,i.jsx)(f.Z,{variant:"contained",style:{backgroundColor:"#074EE8",color:"white",fontWeight:"bold",marginTop:"1rem"},onClick:function(e){p(e,"step3")},children:"Confirmar"})]})]}),(0,i.jsx)(d.default,{id:j.__hash,children:j})]})}var N=t(1163);function k(e,n,t,a,s,i,r){try{var o=e[i](r),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(a,s)}function S(e){var n=e.formData,t=(e.setStep,e.transactionId),a=(0,N.useRouter)(),r=function(){var e,n=(e=s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/posicionglobal");case 1:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(a,s){var i=e.apply(n,t);function r(e){k(i,a,s,r,o,"next",e)}function o(e){k(i,a,s,r,o,"throw",e)}r(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,i.jsxs)(h.Z,{container:!0,spacing:2,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,i.jsxs)(h.Z,{item:!0,xs:11,children:[(0,i.jsx)("div",{className:"jsx-".concat(j.__hash),children:(0,i.jsx)(h.Z,{container:!0,justify:"center",children:(0,i.jsxs)("div",{style:{width:"90%",backgroundColor:"#eeeeef"},className:"jsx-".concat(j.__hash),children:[(0,i.jsx)("div",{style:{display:"flex",justifyContent:"space-between",border:"solid black 1px",backgroundColor:"#074EE8"},className:"jsx-".concat(j.__hash),children:(0,i.jsx)("p",{className:"jsx-".concat(j.__hash)+" transaction-table-title",children:"Datos de la transferencia finalizada"})}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(j.__hash),children:(0,i.jsx)(g.P,{field:"N\xfamero de referencia de la operaci\xf3n",value:t})}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(j.__hash),children:[(0,i.jsx)(g.P,{field:"Cuenta de origen",value:n.origin}),(0,i.jsx)(g.P,{field:"Cuenta de destino",value:n.destiny})]}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},className:"jsx-".concat(j.__hash),children:[(0,i.jsx)(g.P,{field:"Monto",value:_.Z.new(n.monto,"Bs.")}),(0,i.jsx)(g.P,{field:"Descripci\xf3n",value:n.description})]})]})})}),(0,i.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-evenly"},className:"jsx-".concat(j.__hash),children:(0,i.jsx)(f.Z,{variant:"contained",style:{backgroundColor:"#074EE8",color:"white",fontWeight:"bold",marginTop:"1rem"},onClick:function(e){r(e)},children:"Continuar"})})]}),(0,i.jsx)(d.default,{id:j.__hash,children:j})]})}t(7590),t(1664);function P(e,n,t,a,s,i,r){try{var o=e[i](r),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(a,s)}function Z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var E=function(){(0,r.v9)((function(e){return e.user}));var e,n=(0,c.useState)("step1"),t=n[0],a=n[1],d=(0,c.useState)({}),u=d[0],h=d[1],p=(0,c.useState)(!0),f=p[0],x=p[1],j=(0,c.useState)(),m=j[0],g=j[1],_=(0,c.useState)(),b=_[0],C=_[1],N={step1:(0,i.jsxs)("h2",{children:["Paso 1"," ",(0,i.jsx)("span",{style:{fontWeight:"10"},children:"Completa los datos para realizar la transferencia."})]}),step2:(0,i.jsxs)("h2",{children:["Paso 2"," ",(0,i.jsx)("span",{style:{fontWeight:"10"},children:"Verifica los datos de la transferencia y confirma para finalizarla"})]}),step3:(0,i.jsx)("h2",{children:"Transferencia finalizada exitosamente"})};(0,c.useEffect)((e=s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,(0,l.A_)("/api/app/cuentas");case 4:(n=e.sent).ok&&(g(n.data.cuentas),x(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var n=this,t=arguments;return new Promise((function(a,s){var i=e.apply(n,t);function r(e){P(i,a,s,r,o,"next",e)}function o(e){P(i,a,s,r,o,"throw",e)}r(void 0)}))}),[]);var k={step1:(0,i.jsx)(v,{loading:f,accounts:m,formData:u,handleFormChange:function(e){var n=e.target.name,t=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){Z(e,n,t[n])}))}return e}({},u);t[n]=e.target.value,h(t)},setStep:a}),step2:(0,i.jsx)(w,{loading:f,accounts:m,formData:u,setStep:a,setTransactionId:C}),step3:(0,i.jsx)(S,{loading:f,accounts:m,formData:u,setStep:a,transactionId:b})};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(o.Z,{children:[(0,i.jsxs)("div",{className:"header-title-container",style:{display:"flex",flexDirection:"column"},children:[(0,i.jsx)("h2",{className:"title-section",children:"Transferencias a cuentas propias"}),N[t]]}),f?(0,i.jsx)("div",{style:{textAlign:"center",width:"100%"},children:(0,i.jsx)(y.Z,{size:50})}):k[t]]})})}}},function(e){e.O(0,[546,426,20,774,888,179],(function(){return n=4080,e(e.s=n);var n}));var n=e.O();_N_E=n}]);