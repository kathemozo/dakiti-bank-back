(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{329:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/fallidas-exitosas",function(){return n(566)}])},1242:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(5893),r=(n(7294),n(5376));n(1877);function o(e){var t=e.labels,n=e.datasets,o={labels:t,datasets:n},s={labels:t,datasets:e.datasetsPie||n},i={responsive:!0,maintainAspectRatio:!1,legend:{display:!1},type:"bar",scales:{xAxes:[{barThickness:73,categorySpacing:0}]}};return(0,a.jsxs)("div",{style:{display:"flex",height:"100%"},children:[(0,a.jsx)("div",{style:{width:"50%",padding:8},children:(0,a.jsx)(r.$Q,{data:o,options:i})}),(0,a.jsx)("div",{style:{width:"50%",padding:8},children:(0,a.jsx)(r.by,{data:s,options:i})})]})}},566:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(4051),r=n.n(a),o=n(5893),s=n(7294),i=n(2351),c=n(3369),u=n(7590),l=n(649),d=n(381),f=n.n(d),h=n(1242);function p(e,t,n,a,r,o,s){try{var i=e[o](s),c=i.value}catch(u){return void n(u)}i.done?t(c):Promise.resolve(c).then(a,r)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=(0,s.useState)({fechaFrom:f()().format("MM/DD/YYYY"),fechaTo:f()().format("MM/DD/YYYY")}),n=t[0],a=t[1],d=(0,s.useState)([]),v=d[0],g=d[1],m=(0,s.useState)(!1),x=m[0],y=m[1],j=(0,s.useState)([]),w=j[0],E=j[1],k=(0,s.useState)([]),O=k[0],Y=k[1],_=function(){var e,t=(e=r().mark((function e(){var t,a,o,s,i,c,u,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g([]),E([]),Y([]),y(!0),e.next=8,(0,l.j0)("/api/admin/reporte-trasacciones",n);case 8:if((o=e.sent).ok){e.next=12;break}return y(!1),e.abrupt("return");case 12:s=0,i=0,null===(t=o.data)||void 0===t||t.transacciones.forEach((function(e){"exitosa"===e.estatus?i+=1:s+=1})),u=s/(c=s+i)*100,d=i/c*100,E([{label:["Transacciones"],data:[s,i],backgroundColor:["#BA2029","#074EE8"],borderColor:[],borderWidth:1}]),Y([{label:["Transacciones"],data:[u,d],backgroundColor:["#BA2029","#074EE8"],borderColor:[],borderWidth:1}]),g(null===(a=o.data)||void 0===a?void 0:a.transacciones.map((function(e){return[f()(e.fecha).format("DD/MM/YYYY HH:mm"),e.usuario.nombre?e.usuario.nombre+" "+e.usuario.apellido:"Compra con tarjeta",e.estatus,e.origen||"Tajreta",e.destino||"Otro banco"]}))),y(!1),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(0),y(!1),console.log(e.t0);case 29:case"end":return e.stop()}}),e,null,[[0,25]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){p(o,a,r,s,i,"next",e)}function i(e){p(o,a,r,s,i,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,o.jsxs)(i.Z,{children:[(0,o.jsx)(c.Z,{filtersForm:n,handleFormChange:function(e){var t=e.target.name,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){b(e,t,n[t])}))}return e}({},n);console.log(e.target),r[t]=e.target.value,a(r)},submitConsulta:_}),(0,o.jsx)("div",{style:{height:"calc(100vh - 230px)",marginTop:10},children:(0,o.jsx)(u.Z,{headers:["Fecha","Nombre Cliente","Estatus","Origen(cuenta o tarjeta)","Destino"],data:v,loading:x,paginate:!0})}),(0,o.jsx)("div",{style:{height:"calc(100vh - 230px)",marginTop:10},children:(0,o.jsx)(h.Z,{labels:["Fallidas","Exitosas"],datasets:w,datasetsPie:O})})]})}}},function(e){e.O(0,[885,570,778,813,426,254,396,774,888,179],(function(){return t=329,e(e.s=t);var t}));var t=e.O();_N_E=t}]);